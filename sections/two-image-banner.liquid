{% schema %}
{
  "name": "Two Images Banner",
  "settings": [
    {
      "type": "header",
      "content": "Layout Settings"
    },
    {
      "type": "select",
      "id": "container_width",
      "label": "Container Width",
      "options": [
        {
          "value": "container",
          "label": "Contained"
        },
        {
          "value": "container-fluid",
          "label": "Full Width"
        }
      ],
      "default": "container"
    },
    {
      "type": "range",
      "id": "gap",
      "label": "Gap Between Images",
      "min": 0,
      "max": 60,
      "step": 4,
      "unit": "px",
      "default": 24
    }
  ],
  "blocks": [
    {
      "type": "image",
      "name": "Image",
      "limit": 2,
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Image"
        },
        {
          "type": "url",
          "id": "link",
          "label": "Image Link"
        },
        {
          "type": "select",
          "id": "width",
          "label": "Image Width",
          "options": [
            {
              "value": "50",
              "label": "50%"
            },
            {
              "value": "60",
              "label": "60%"
            },
            {
              "value": "40",
              "label": "40%"
            }
          ],
          "default": "50"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Two Images Banner",
      "blocks": [
        {
          "type": "image"
        },
        {
          "type": "image"
        }
      ]
    }
  ]
}
{% endschema %}

<style>
  .two-images-banner {
    padding: 20px 0;
  }

  .two-images-wrapper {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
  }

  .image-item {
    position: relative;
    padding: 0 {{ section.settings.gap | divided_by: 2 }}px;
  }

  .image-item img {
    width: 100%;
    height: auto;
    display: block;
  }

  @media screen and (max-width: 767px) {
    .image-item {
      width: 100% !important;
      margin-bottom: 20px;
    }

    .image-item:last-child {
      margin-bottom: 0;
    }
  }
</style>

<div class="two-images-banner page-width">
  <div class="{{ section.settings.container_width }} page-width">
    <div class="two-images-wrapper" style="margin: 0 -{{ section.settings.gap | divided_by: 2 }}px;">
      {% for block in section.blocks %}
        {% if block.type == 'image' and block.settings.image %}
          <div class="image-item" style="width: {{ block.settings.width }}%;" {{ block.shopify_attributes }}>
            {% if block.settings.link != blank %}
              <a href="{{ block.settings.link }}">
            {% endif %}

            <img
              src="{{ block.settings.image | img_url: 'master' }}"
              alt="{{ block.settings.image.alt | escape }}"
              loading="lazy"
              width="{{ block.settings.image.width }}"
              height="{{ block.settings.image.height }}" style="border-radius:10px;"
            >

            {% if block.settings.link != blank %}
              </a>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</div>
